(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"20Uk":function(t){t.exports={track:"track__1MheK"}},B0MO:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return b}));var r=n("hosL"),a=n("20Uk"),o=n.n(a),i=n("x9vV"),u=n.n(i),c=(n("E0vE"),n("Qe1s")),l=n.n(c),s=(n("nU75"),n("QafI")),d=n.n(s),f=(n("DFTH"),n("xkhu")),h=n("N1tf"),p=n("oPUo"),b=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).state={trackingState:"Idle",intervalometerEnabled:null,intervalometerState:null,elapsedMillis:null,error:null},e.handleError=function(t){console.error("problem",t),e.setState({error:t})},e.onHomePressed=function(t){t.preventDefault(),Object(h.a)().then((function(t){return e.setState({trackingState:t})})).catch((function(t){return e.handleError(t)}))},e.onTrackPressed=function(t){t.preventDefault(),Object(h.b)().then((function(t){return e.setState({trackingState:t,intervalometerState:null,elapsedMillis:0})})).catch((function(t){return e.handleError(t)}))},e.onStopPressed=function(t){t.preventDefault(),Object(h.c)().then((function(t){return e.setState({trackingState:t})})).catch((function(t){return e.handleError(t)}))},e.onIntervalometerToggled=function(t){var n=t.target.checked;console.log("Intervalometer toggled to: "+(n?"enabled":"disabled")),e.setState({intervalometerEnabled:n}),Object(h.h)(n).then((function(t){return e.setState({intervalometerEnabled:t})})).catch((function(t){return e.handleError(t)}))},e}var n,a;a=t,(n=e).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a;var i=e.prototype;return i.componentDidMount=function(){return new Promise(function(t){var e=this;return Object(f.h)().then((function(t){e.setState({trackingState:t.state,intervalometerEnabled:t.intervalometerEnabled,elapsedMillis:t.elapsedMillis}),console.log("Starting Refresh Interval"),e.timer=Object(p.setInterval)(e.refreshAlignmentStatus.bind(e),1e3)})).catch((function(t){return e.handleError(t)})),t()}.bind(this))},i.refreshAlignmentStatus=function(){return new Promise(function(t){var e=this;return Object(f.h)().then((function(t){e.setState({trackingState:t.state,intervalometerState:t.intervalometerState,elapsedMillis:t.elapsedMillis})})).catch((function(t){return e.handleError(t)})),t()}.bind(this))},i.componentWillUnmount=function(){console.log("Cancelling timer"),clearInterval(this.timer._id)},i.msToTime=function(t){var e=Math.floor(t/1e3%60),n=Math.floor(t/6e4%60),r=Math.floor(t/36e5%24);return(r=r<10?"0"+r:r)+":"+(n=n<10?"0"+n:n)+":"+(e=e<10?"0"+e:e)},i.errorToast=function(){if(null!=this.state.error)return Object(r.h)("p",null,this.state.error.toString())},i.homeButton=function(){if("Idle"==this.state.trackingState)return Object(r.h)("p",null,Object(r.h)(u.a,{raised:!0,ripple:!0,onClick:this.onHomePressed.bind(this)},"Home"))},i.trackButton=function(){if("Homed"==this.state.trackingState)return Object(r.h)("p",null,Object(r.h)(u.a,{raised:!0,ripple:!0,onClick:this.onTrackPressed.bind(this)},"Track"))},i.stopButton=function(){if("Tracking"==this.state.trackingState)return Object(r.h)("p",null,Object(r.h)(u.a,{raised:!0,ripple:!0,onClick:this.onStopPressed.bind(this)},"Stop"))},i.intervalometerState=function(){if(!0===this.state.intervalometerEnabled&&"Tracking"===this.state.trackingState&&null!=this.state.intervalometerState)return Object(r.h)("p",null,Object(r.h)(d.a,{label:"Intervalometer",value:this.state.intervalometerState,disabled:"true"}))},i.elapsedTime=function(){if("Tracking"===this.state.trackingState&&null!=this.state.elapsedMillis)return Object(r.h)("p",null,Object(r.h)(d.a,{label:"Elapsed Time",value:this.msToTime(this.state.elapsedMillis),disabled:"true"}))},i.render=function(t,e){!function(t){if(null==t)throw new TypeError("Cannot destructure undefined")}(t);var n=e.trackingState,a=e.intervalometerEnabled;return Object(r.h)("div",{class:o.a.track},Object(r.h)("h1",null,"Track"),Object(r.h)("div",null,this.errorToast(),Object(r.h)("p",null,Object(r.h)(d.a,{label:"Tracking Status",value:n,disabled:"true"})),this.elapsedTime(),this.intervalometerState(),Object(r.h)("p",null,"Intervalometer:"," ",Object(r.h)(l.a,{onChange:this.onIntervalometerToggled.bind(this),checked:!0===a})),this.homeButton(),this.trackButton(),this.stopButton()))},e}(r.Component)},E0vE:function(){},N1tf:function(t,e,n){"use strict";function r(t){return new Promise((function(e){return e(f.a.post(h.a.endpoint+"/backend/toggle/ignoreAz",{enabled:t}).then((function(t){return t.data.enabled})))}))}function a(t){return new Promise((function(e){return e(f.a.post(h.a.endpoint+"/backend/toggle/ignoreAlt",{enabled:t}).then((function(t){return t.data.enabled})))}))}function o(t){return new Promise((function(e){return e(f.a.post(h.a.endpoint+"/backend/toggle/intervalometer",{enabled:t}).then((function(t){return t.data.enabled})))}))}function i(t){return new Promise((function(e){return e(f.a.post(h.a.endpoint+"/backend/toggle/dewcontroller",{enabled:t}).then((function(t){return t.data.enabled})))}))}function u(t){return new Promise((function(e){return e(f.a.post(h.a.endpoint+"/backend/toggle/dewcontroller/logging",{enabled:t}).then((function(t){return t.data.enabled})))}))}function c(){return new Promise((function(t){return t(f.a.post(h.a.endpoint+"/backend/track",{command:"home"}).then((function(t){return t.data.state})))}))}function l(){return new Promise((function(t){return t(f.a.post(h.a.endpoint+"/backend/track",{command:"track"}).then((function(t){return t.data.state})))}))}function s(){return new Promise((function(t){return t(f.a.post(h.a.endpoint+"/backend/track",{command:"stop"}).then((function(t){return t.data.state})))}))}n.d(e,"g",(function(){return r})),n.d(e,"f",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return u})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return s}));var d=n("czhI"),f=n.n(d),h=n("rOcY")},eYuk:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"mdc-theme--".concat(t,"-bg")}},x9vV:function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Button=e.ButtonIcon=void 0;var o=a(n("NToG")),i=a(n("SDJZ")),u=a(n("K4DB")),c=a(n("+IV6")),l=a(n("eef+")),s=n("hosL"),d=a(n("CW11")),f=a(n("w240")),h=a(n("eYuk")),p=function(t){function e(){var t;return(0,i.default)(this,e),(t=(0,u.default)(this,(0,c.default)(e).apply(this,arguments))).componentName="button__icon",t}return(0,l.default)(e,t),e}(f.default);e.ButtonIcon=p;var b=function(t){function e(){var t;return(0,i.default)(this,e),(t=(0,u.default)(this,(0,c.default)(e).apply(this,arguments))).componentName="button",t.mdcProps=["dense","raised","unelevated","outlined"],t.themeProps=["primary","secondary"],t}return(0,l.default)(e,t),(0,o.default)(e,[{key:"materialDom",value:function(t){var e=t.href?"a":"button",n="";return this.themeProps.forEach((function(e){e in t&&!1!==t[e]&&(n+=(0,h.default)(e)+" ")})),(0,s.h)(e,r({ref:this.setControlRef},t,{className:n}),this.props.children)}}]),e}(d.default);e.Button=b;var m=function(t){function e(){return(0,i.default)(this,e),(0,u.default)(this,(0,c.default)(e).apply(this,arguments))}return(0,l.default)(e,t),e}(b);e.default=m,m.Icon=p}}]);
//# sourceMappingURL=10.c.js.map