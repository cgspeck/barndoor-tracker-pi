(this["webpackJsonppid-log-viewer"]=this["webpackJsonppid-log-viewer"]||[]).push([[0],{231:function(t,e,a){t.exports=a(421)},236:function(t,e,a){},418:function(t,e,a){},421:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),s=a(17),i=a.n(s),o=(a(236),a(9)),l=a(12),d=a(21),c=a(19),h=a(187),u=(a(237),a(20)),D=a(177),f=a(91),m=a(454),v=a(455),S=a(30),E=(a(418),function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(){var t;return Object(o.a)(this,a),(t=e.call(this)).onSetStartDate=function(e){e>=t.state.startDate&&e<=t.state.desiredEndDate&&(t.setState({desiredStartDate:e}),t.filterRecords())},t.onSetEndDate=function(e){e<=t.state.endDate&&e>=t.state.desiredStartDate&&(t.setState({desiredEndDate:e}),t.filterRecords())},t.state={csv:null,records:null,hasData:null,startDate:null,desiredStartDate:null,endDate:null,desiredEndDate:null,filteredRecords:null},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=window.location.search.split("file=")[1];void 0!==e?fetch("/logs/".concat(e)).then((function(t){return t.text()})).then((function(e){t.setState({csv:e}),t.parseCSV()})):this.setState({hasData:!1})}},{key:"rowHasValidData",value:function(t){return void 0!==t&&(0!==t.length&&4===t.split(",").length)}},{key:"parseCSV",value:function(){var t=this.state.csv.split("\n"),e=t.length-1;if(e<0)this.setState({hasData:!1});else{for(var a,n=e;n>0;n--){var r=t[n];if(this.rowHasValidData(r)){a=n;break}}if(void 0===a||a<0)return console.log("No valid records!"),void this.setState({hasData:!1});for(var s,i,o=[],l=0;l<a;l++){var d=t[l].split(",");0===l&&(s=f.a.fromISO(d[0])),l+1===a&&(i=f.a.fromISO(d[0]));var c={dateTime:f.a.fromISO(d[0]),setPoint:parseFloat(d[1]),processValue:parseFloat(d[2])};o.push(c)}this.setState({hasData:!0,records:o,startDate:s,desiredStartDate:s,endDate:i,desiredEndDate:i}),this.filterRecords()}}},{key:"filterRecords",value:function(){var t=[],e=this.state,a=e.desiredStartDate,n=e.desiredEndDate;this.state.records.forEach((function(e){e.dateTime>=a&&e.dateTime<=n&&t.push(e)})),this.setState({filteredRecords:t})}},{key:"onResetClick",value:function(){var t=this.state,e=t.startDate,a=t.endDate;this.setState({desiredStartDate:e,desiredEndDate:a}),this.filterRecords()}},{key:"datePickers",value:function(){if(!0===this.state.hasData)return r.a.createElement("div",null,r.a.createElement(v.a,{label:"Start",minDate:this.state.startDate.toJSDate(),maxDate:this.state.endDate.toJSDate(),value:this.state.desiredStartDate.toJSDate(),onChange:this.onSetStartDate.bind(this)}),r.a.createElement(v.a,{label:"End",minDate:this.state.startDate.toJSDate(),maxDate:this.state.endDate.toJSDate(),value:this.state.desiredEndDate.toJSDate(),onChange:this.onSetEndDate.bind(this)}),r.a.createElement("br",null),r.a.createElement(m.a,{variant:"contained",color:"secondary",onClick:this.onResetClick.bind(this)},"Reset"))}},{key:"graph",value:function(){if(!0===this.state.hasData)return r.a.createElement("div",null,r.a.createElement(S.e,{width:"100%",height:400},r.a.createElement(S.d,{width:1e3,height:600,data:this.state.filteredRecords,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(S.g,{dataKey:"dateTime"}),r.a.createElement(S.a,{strokeDasharray:"3 3"}),r.a.createElement(S.h,null),r.a.createElement(S.f,null),r.a.createElement(S.b,null),r.a.createElement(S.c,{type:"monotone",dataKey:"processValue",stroke:"#8884d8"}),r.a.createElement(S.c,{type:"monotone",dataKey:"setPoint",stroke:"#82ca9d"}))))}},{key:"noData",value:function(){if(!0!==this.state.hasData)return r.a.createElement("div",null,"No data!")}},{key:"render",value:function(){return r.a.createElement(h.a,{basename:"/pid-log-viewer"},r.a.createElement(u.a,{utils:D.a},r.a.createElement("div",{className:"App"},this.datePickers(),this.graph(),this.noData())))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[231,1,2]]]);
//# sourceMappingURL=main.6a56907c.chunk.js.map